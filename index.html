<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Games Planet â€” Full Catalog (Final Patched)</title>
<style>
:root{
  --bg:#071028; --card:#0f1630; --muted:#9fb0d3; --text:#eaf1ff;
  --accent:#7c4dff; --cta:#3ddc84; --youtube:#ff0000; --whatsapp:#25d366; --gamesplanet:#1877f2;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;padding:18px}
.container{max-width:1200px;margin:0 auto}

/* Header */
.hero{display:flex;align-items:center;justify-content:center;padding:20px 12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0))}
.hero h1{margin:0;font-weight:900;font-size:28px;letter-spacing:-1px;text-transform:uppercase;background: linear-gradient(90deg,#ff416c 0%,#7b5cff 90%);-webkit-background-clip:text;background-clip:text;color:transparent}
header{margin:18px 0 12px 0;text-align:center}
header h2{margin:0;font-size:18px;font-weight:800;color:var(--text)}
header p{color:var(--muted);margin:6px 0 0;font-size:13px}

/* Catalog */
.catalog-header{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:12px}
.catalog-title{font-size:20px;font-weight:800}
.catalog-sub{color:var(--muted);font-size:13px}

/* Grid & cards */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:14px}
.card{background:var(--card);border-radius:12px;padding:12px;box-shadow:var(--shadow);display:flex;flex-direction:column}
.title{font-weight:800;font-size:15px;margin-bottom:8px;color:var(--text)}
.imgrow{margin-bottom:10px;cursor:pointer;overflow:hidden;border-radius:8px}
.imgrow img{width:100%;height:160px;object-fit:contain;background:linear-gradient(180deg,#071828,#071028)}
.multi-img-row{display:flex;gap:8px}
.multi-img-row img{width:32%;height:120px;object-fit:contain;border-radius:6px;background:#081428;cursor:pointer}
.variantline{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0}
.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:700;text-decoration:none;color:var(--text)}
.btn.buy{background:var(--cta);color:#07210f}
.btn.gamesplanet{background:var(--gamesplanet);color:#fff}
.btn.wa{background:var(--whatsapp);color:#07210f}
.btn.yt{background:var(--youtube);color:#fff}
.img-button{display:inline-block;vertical-align:middle}
.img-button img{height:36px;display:block}
.smalltext{font-size:12px;color:var(--muted);margin-top:4px}

/* lightbox */
.lb-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.88);display:none;align-items:center;justify-content:center;z-index:9999;padding:24px}
.lb-content{position:relative;max-width:95%;max-height:95%;display:flex;align-items:center;justify-content:center}
.lb-content img{max-width:100%;max-height:100%;border-radius:6px}
.lb-close{position:absolute;top:-12px;right:-12px;background:#fff;color:#000;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-weight:900;cursor:pointer}

/* footer video */
.footer-video-wrap{max-width:1200px;margin:22px auto;padding:0 18px}
.footer-video-wrap iframe{width:100%;height:260px;border-radius:8px;border:0}

/* footer text */
.footer{margin-top:26px;text-align:center;color:var(--muted);font-size:13px}
</style>
</head>
<body>
<div class="container">
  <div class="hero"><h1>GAMES PLANET</h1></div>

  <header>
    <h2>All Products â€” Final Catalog</h2>
    <p>Prepaid only Â· Click variant to confirm product (opens confirm page)</p>
  </header>

  <div class="catalog-header">
    <div>
      <div class="catalog-title">Games Planet â€” Catalog</div>
      <div class="catalog-sub">Variants, Prices, Buy Links & Videos</div>
    </div>
    <a class="btn gamesplanet" href="https://gamesplanet.shop" target="_blank" rel="noopener">Games Planet</a>
  </div>

  <div id="catalog-root"></div>

  <!-- Footer video -->
  <div class="footer-video-wrap" style="margin-top:18px">
    <iframe src="https://www.youtube.com/embed/IkkCb4FmIBA?si=1oAan6WfY3L5-nTh" frameborder="0" allowfullscreen></iframe>
  </div>

  <div class="footer">Â© Games Planet â€” WhatsApp: +91 79836 24797</div>
</div>

<!-- lightbox markup -->
<div id="lb" class="lb-backdrop" aria-hidden="true">
  <div class="lb-content">
    <img id="lb-img" src="" alt="Full image">
    <button id="lb-close" class="lb-close" aria-label="Close">âœ•</button>
  </div>
</div>

<script>
/* ---------- icons ---------- */
const AMAZON_PNG = "https://i.pinimg.com/originals/75/19/72/75197219cb0da0c45ebdb03ff17dddd8.png";
const FLIPKART_PNG = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQAFlX40qspwq8Hc1umoPD-Eqc-1F6UjZUmrQ&usqp=CAU";

/* ---------- helpers ---------- */
const fmt = n => n ? "â‚¹" + Number(n).toLocaleString('en-IN') : "Price on request";
function hostLabel(url){
  try{
    const low = String(url).toLowerCase();
    const u = new URL(url);
    const h = u.hostname.replace('www.','').toLowerCase();
    const shortHosts = ['bit.ly','rb.gy','tinyurl.com','t.ly','goo.gl','cutt.ly','is.gd'];
    if(shortHosts.some(s=>h.includes(s))) return 'Flipkart';
    if(h.includes('amazon')||h.includes('amzn')) return 'Amazon';
    if(h.includes('flipkart')||h.includes('dl.flipkart')) return 'Flipkart';
    if(h.includes('gamesplanet')) return 'Games Planet';
    if(h.includes('wa.me')||h.includes('whatsapp')) return 'WhatsApp';
    return h;
  }catch(e){ return 'Link'; }
}

/* ---------- product data (final list, with variants & prices you provided) ---------- */
const groups = [
  {
    title: "ðŸ•¹ï¸ FMCB and USB products for PS2 (GPZ)",
    items: [
      { name: "FMCB and USB products for PS2 (GPZ)", imgs: ["fmcb.jpeg","usb.jpeg","hdd.jpeg"], variants: [], buy:["https://gamesplanet13.github.io/ps2fmcb/"], videos: [] }
    ]
  },
  {
    title: "ðŸŽ® GameSticks / Gamestick-style consoles",
    items: [
      { name: "GD10 (Vayava) (GPZ)", img:"Gd10.jpeg", variants:[{n:"64GB",p:2399},{n:"128GB",p:4399}], buy:["https://gamesplanet.shop/products/vayava-gamestick-gd10"], videos:[] },
      { name: "GD30 V1 (Vayava) (GPZ)", img:"Gd30.jpeg", variants:[{n:"64GB",p:3599},{n:"128GB",p:5899},{n:"256GB",p:7299}], buy:["https://gamesplanet.shop/products/gd30"], videos:[] },
      { name: "GD30 V2 (Vayava) (GPZ)", img:"Gd30.jpeg", variants:[{n:"64GB",p:0}], buy:["https://gamesplanet.shop/products/gd30"], videos:[] },
      { name: "GD30 V3 (Vayava) (GPZ)", img:"Gd30v3.jpeg", variants:[{n:"64GB",p:3899},{n:"128GB",p:5999},{n:"256GB",p:7299}], buy:["https://gamesplanet.shop/products/gd30v3"], videos:[] },
      { name: "GD35 Standard (Vayava) (GPZ)", img:"Gd35.jpeg", variants:[{n:"64GB",p:5299},{n:"128GB",p:6999},{n:"256GB",p:7999}], buy:["https://gamesplanet.shop/products/gd35"], videos:[] },
      { name: "GD35 GTA San Andreas Edition (Vayava) (GPZ)", img:"Gd35gta.jpeg", variants:[{n:"64GB",p:5999},{n:"128GB",p:7999},{n:"256GB",p:9999}], buy:["https://gamesplanet.shop/products/gd35"], videos:[] },

      { name: "M22 GameStick (GPZ)", img:"M22.jpeg", variants:[{n:"64GB",p:3499},{n:"128GB",p:5999},{n:"256GB",p:6999}], buy:["https://gamesplanet.shop/products/gpzm22","https://bit.ly/GPZm22OG","https://amzn.to/4hQN6j6"], videos:[] },
      { name: "M33 GameStick (GPZ)", img:"M33.jpeg", variants:[{n:"64GB",p:2699},{n:"128GB",p:4999},{n:"256GB",p:5999}], buy:["https://gamesplanet.shop/products/gpzm33","https://bit.ly/m33newG","https://amzn.to/4hQN6j6"], videos:[] },
      { name: "M55 GameStick (GPZ)", img:"M55.jpeg", variants:[{n:"64GB",p:3499},{n:"128GB",p:5999},{n:"256GB",p:6999}], buy:["https://gamesplanet.shop/products/m55"], videos:[] },
      { name: "M66 GameStick (GPZ)", img:"M66.jpeg", variants:[{n:"64GB",p:2899}], buy:["https://gamesplanet.shop/products/m66"], videos:[] },
      { name: "M88 GameStick (GPZ)", img:"M88.jpeg", variants:[{n:"128GB",p:7799}], buy:["https://gamesplanet.shop/products/m88"], videos:[] },
      { name: "GS5 Mini (GPZ)", img:"Gs5mini.jpeg", variants:[{n:"64GB",p:3699},{n:"128GB",p:5899},{n:"256GB",p:6999}], buy:["https://gamesplanet.shop/products/gs5mini"], videos:[] },
      { name: "GameStick Lite (Pandora Mini M8) (GPZ)", img:"M8.jpeg", variants:[{n:"64GB",p:1599}], buy:["https://gamesplanet.shop/products/pandoramini2024","https://dl.flipkart.com/s/1Vhpk8NNNN","https://amzn.to/4eVY8Tp"], videos:[] },
      { name: "GameStick Pro (Pandora Pro M15) (GPZ)", img:"M15.jpeg", variants:[{n:"64GB",p:1999}], buy:["https://gamesplanet.shop/products/p5game","https://amzn.to/4fmYjqB"], videos:[] }
    ]
  },
  {
    title: "ðŸ“¦ GameBox Series",
    items: [
      { name: "GameBox G10 Plus (Vayava) (GPZ)", img:"G10.jpeg", variants:[{n:"64GB",p:3599}], buy:["https://gamesplanet.shop/products/g10","https://amzn.to/4afvbOO"], videos:[] },
      { name: "GameBox G11 Pro Regular (Vayava) (GPZ)", img:"G11pro.jpeg", variants:[{n:"64GB",p:4599},{n:"128GB",p:6599},{n:"256GB",p:7599}], buy:["https://gamesplanet.shop/products/g11pro","https://amzn.to/47l95sN","https://dl.flipkart.com/s/gQowFIuuuN"], videos:[] },
      { name: "GameBox G11 Pro Special Edition (Vayava) (GPZ)", img:"G11prose.jpeg", variants:[{n:"64GB",p:6599},{n:"128GB",p:8599},{n:"256GB",p:9599}], buy:["https://gamesplanet.shop/products/g11prosp"], videos:[] },
      { name: "GameBox G11 Pro GTA San Andreas Edition (Vayava) (GPZ)", img:"G11progta.jpeg", variants:[{n:"64GB",p:5999},{n:"128GB",p:7999},{n:"256GB",p:9999}], buy:["https://gamesplanet.shop/products/game-box-g11-pro-ultimate-edition"], videos:[] }
    ]
  },
  {
    title: "ðŸ•¹ï¸ Handheld Consoles",
    items: [
      { name: "R35S (GPZ)", img:"R35s.jpeg", variants:[{n:"64GB",p:2999},{n:"128GB",p:4999}], buy:["https://gamesplanet.shop/products/gpzr35s"], videos:[] },
      { name: "R36S (GPZ)", img:"R36s.png", variants:[{n:"64GB",p:3499},{n:"128GB",p:5499}], buy:[], videos:[] },
      { name: "R36 Ultra (GPZ)", img:"R36u.jpeg", variants:[{n:"64GB",p:3999}], buy:[], videos:[] },
      { name: "Black Hawk (GPZ)", img:"BlackHawk.jpeg", variants:[{n:"Base",p:2399}], buy:[], videos:[] },
      { name: "X7M Single / Dual (GPZ)", img:"X7m.jpeg", variants:[{n:"Single",p:999},{n:"Dual",p:1099}], buy:[], videos:[] }
    ]
  },
  {
    title: "ðŸ–¥ï¸ PlayStation / Legacy Consoles",
    items: [
      { name: "PlayStation 2 Slim (Renewed) (GPZ)", img:"Ps2.jpeg", variants:[{n:"Console",p:5500}], buy:["https://Gamesplanet13.github.io/ps2now"], videos:[] },
      { name: "PlayStation 3 (500GB) (GPZ)", img:"Ps3.jpeg", variants:[{n:"500GB",p:15999}], buy:["https://wa.me/917983624797"], videos:[] }
    ]
  }
];

/* ---------- prefill generator (sends price, base_price, base) ---------- */
function goPrefill(product, variant, base){
  const priceVal = (typeof base === 'number' || !isNaN(Number(base))) ? String(base) : '';
  const q = new URLSearchParams({
    product: product || '',
    variant: variant || '',
    price: priceVal,
    base_price: priceVal,
    base: priceVal
  });
  // open confirm page (single confirm button) - same tab
  location.href = 'order-prefill.html?' + q.toString();
}

/* ---------- render function ---------- */
function renderCatalog(){
  const root = document.getElementById('catalog-root');
  root.innerHTML = '';
  groups.forEach(group=>{
    const sec = document.createElement('section');
    sec.className = 'section';
    const h = document.createElement('h2'); h.textContent = group.title; h.style.margin='0 0 12px 0';
    sec.appendChild(h);

    const grid = document.createElement('div'); grid.className = 'grid';

    group.items.forEach(prod=>{
      const card = document.createElement('div'); card.className = 'card';
      const t = document.createElement('div'); t.className='title'; t.textContent = prod.name; card.appendChild(t);

      // images: single or multiple
      if(prod.imgs && Array.isArray(prod.imgs) && prod.imgs.length){
        const multi = document.createElement('div'); multi.className='multi-img-row';
        prod.imgs.forEach(src=>{
          const im = document.createElement('img'); im.src = src; im.alt = prod.name;
          im.onerror = ()=>{ im.style.display='none'; };
          im.onclick = ()=> openLightbox(src);
          multi.appendChild(im);
        });
        card.appendChild(multi);
      } else if(prod.img){
        const wrap = document.createElement('div'); wrap.className='imgrow';
        const im = document.createElement('img'); im.src = prod.img; im.alt = prod.name;
        im.onerror = ()=>{ im.style.display='none'; };
        wrap.appendChild(im);
        wrap.onclick = ()=> openLightbox(prod.img);
        card.appendChild(wrap);
      }

      // variants
      if(prod.variants && prod.variants.length){
        const vline = document.createElement('div'); vline.className='variantline';
        prod.variants.forEach(v=>{
          const a = document.createElement('button'); a.className='btn buy';
          a.textContent = `${v.n} â€¢ ${fmt(v.p)}`;
          a.onclick = ()=> goPrefill(prod.name, v.n, v.p);
          vline.appendChild(a);
        });
        card.appendChild(vline);
      } else {
        // if no variants, still show empty variantline placeholder (e.g. FMCB)
        const vline = document.createElement('div'); vline.className='variantline';
        card.appendChild(vline);
      }

      // external buy links
      if(prod.buy && prod.buy.length){
        const ext = document.createElement('div'); ext.className='variantline';
        prod.buy.forEach(u=>{
          const lab = hostLabel(u);
          let el;
          if(lab === 'Games Planet'){
            el = document.createElement('a'); el.className='btn gamesplanet'; el.href = u; el.textContent = prod.name.toLowerCase().includes('fmcb') ? 'Buy Now' : 'Games Planet';
            el.target='_blank';
          } else if(lab === 'Amazon'){
            el = document.createElement('a'); el.className='img-button'; el.href = u; el.target='_blank';
            el.innerHTML = `<img src="${AMAZON_PNG}" alt="Amazon">`;
          } else if(lab === 'Flipkart'){
            el = document.createElement('a'); el.className='img-button'; el.href = u; el.target='_blank';
            el.innerHTML = `<img src="${FLIPKART_PNG}" alt="Flipkart">`;
          } else if(lab === 'WhatsApp'){
            el = document.createElement('a'); el.className='btn wa'; el.href = u; el.textContent='WhatsApp'; el.target='_blank';
          } else {
            el = document.createElement('a'); el.className='btn'; el.href = u; el.textContent=lab; el.target='_blank';
          }
          ext.appendChild(el);
        });
        card.appendChild(ext);
      }

      // videos badge (if any)
      if(prod.videos && prod.videos.length){
        const vline2 = document.createElement('div'); vline2.className='variantline';
        prod.videos.forEach(v=>{
          const wrap = document.createElement('div'); wrap.style.display='flex'; wrap.style.flexDirection='column';
          const a = document.createElement('a'); a.className='btn yt'; a.href = v.url; a.textContent='â–¶ï¸ YouTube'; a.target='_blank';
          const cap = document.createElement('div'); cap.className='smalltext'; cap.textContent = v.cap || '';
          wrap.appendChild(a); wrap.appendChild(cap); vline2.appendChild(wrap);
        });
        card.appendChild(vline2);
      }

      grid.appendChild(card);
    });

    sec.appendChild(grid);
    root.appendChild(sec);
  });
}

/* ---------- lightbox ---------- */
const lb = document.getElementById('lb');
const lbImg = document.getElementById('lb-img');
const lbClose = document.getElementById('lb-close');
function openLightbox(src){
  lbImg.src = src;
  lb.style.display = 'flex';
}
lbClose.addEventListener('click', ()=> { lb.style.display='none'; lbImg.src=''; });
lb.addEventListener('click', (e)=>{ if(e.target === lb) { lb.style.display='none'; lbImg.src=''; } });

/* ---------- init ---------- */
document.addEventListener('DOMContentLoaded', ()=>{
  renderCatalog();
});
</script>
</body>
</html>
